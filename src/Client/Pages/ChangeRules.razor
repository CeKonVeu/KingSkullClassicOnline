@inject IDialogService DialogService

<MudDialog>
    <DialogActions>
        <MudContainer MaxWidth="MaxWidth.Medium">
            <MudStack>
                <MudPaper>
                    <MudCheckBox
                        @bind-Checked="@FirstPlayerVote0"
                        Label="Joueur en tête parie 0 à partir de la manche 5">
                    </MudCheckBox>
                </MudPaper>
                
                <MudPaper>
                    <MudCheckBox
                        @bind-Checked="@Round5And10Vote0"
                        Label="Tous les joueurs parient 0 aux manches 5 et 10">
                    </MudCheckBox>
                </MudPaper>

                <MudSlider
                    @bind-Value="MaxPlayers"
                    TickMarks="true"
                    Variant="Variant.Filled"
                    Min="2"
                    Max="10">
                    Nombre de joueurs maximum : @MaxPlayers
                </MudSlider>

                <MudButton
                    @onclick="OpenCardsDialog"
                    Style="@($"color:{Colors.Shades.Black}; background:{Colors.Blue.Darken1};")"
                    Variant="Variant.Filled"
                    Size="Size.Large"
                    FullWidth="true">
                    Modifier les cartes
                </MudButton>

                <MudButton
                    OnClick="CloseRulesDialog"
                    Color="Color.Primary">
                    Valider
                </MudButton>

            </MudStack>
        </MudContainer>
    </DialogActions>
</MudDialog>

@code {

    [CascadingParameter]
    MudDialogInstance MudDialog { get; set; }

    void CloseRulesDialog()
    {
        MudDialog.Close(DialogResult.Ok(true));
    }

    public bool FirstPlayerVote0 { get; set; } = false;
    public bool Round5And10Vote0 { get; set; } = true;

    public int MaxPlayers = 6;

    // Pop-up des cartes
    private void OpenCardsDialog()
    {
        var options = new DialogOptions { CloseOnEscapeKey = true };
        DialogService.Show<ChangeCards>("Modifier les cartes", options);
    }

}