@page "/startgame"

@inject IDialogService DialogService

<PageTitle>Start Game</PageTitle>

<MudText
    Class="pa-4"
    Style="@($"color:{Colors.Yellow.Darken1}")"
    Typo="Typo.h3"
    Align="Align.Center">
    <b>Joueurs</b>
</MudText>

<MudContainer MaxWidth="MaxWidth.ExtraSmall">

    <MudStack>
        <MudStack>
            @foreach (var name in Names)
            {
                <MudPaper
                    Style="text-align:center"
                    Class="pa-4 ml-16 mr-16">
                    @name
                </MudPaper>
            }
        </MudStack>

        <MudButton
            Style="@($"color:{Colors.Shades.Black}; background:{Colors.Yellow.Darken1};")"
            Href="https://localhost:7114/startgame"
            Variant="Variant.Filled"
            Size="Size.Large"
            FullWidth="true">
            Commencer la partie
        </MudButton>

        <MudButton
            @onclick="OpenDialog"
            Style="@($"color:{Colors.Shades.Black}; background:{Colors.Yellow.Darken1};")"
            Variant="Variant.Filled"
            Size="Size.Large"
            FullWidth="true">
            Modifier les règles
        </MudButton>

        <MudTextField
            @bind-Value="ReadOnly"
            Style="@($"color:{Colors.BlueGrey.Default}; background:{Colors.Shades.White};")"
            Variant="Variant.Filled"
            ReadOnly="true"
            Label="URL pour rejoindre cette room">
        </MudTextField>
    </MudStack>

</MudContainer>

@code {
    // Liste des joueurs affichés
    public string[] Names =
    {
        "Loïc",
        "Stéphane",
        "Géraud",
        "Alex",
        "Loris",
        "-"
    };

    // Zone de texte contenant l'URL pour rejoindre la room
    public string ReadOnly { get; set; } = "https://localhost:7114/startgame/amogus";

    // Pop-up des règles
    private void OpenDialog()
    {
        var options = new DialogOptions { CloseOnEscapeKey = true };
        DialogService.Show<ChangeRules>("Modifier les règles", options);
    }

}